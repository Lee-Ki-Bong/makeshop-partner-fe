{"openapi":"3.0.0","paths":{"/oauth/start":{"get":{"description":"\nOAuth 인가 플로우를 시작합니다.\n\n클라이언트 IP, User-Agent, deviceId 등을 기반으로\nPKCE 코드 챌린지 및 state를 생성하여 Auth Server로 이동할 URL을 반환합니다.\n    ","operationId":"StartOAuthController_startOauth","parameters":[{"name":"deviceId","required":true,"in":"query","description":"디바이스 고유 식별자(브라우저 또는 앱 단위). 클라이언트가 생성해 전달합니다.","schema":{"example":"c6e54331-47c6-4bf5-8e1a-1b2cafb0df91","type":"string"}}],"responses":{"200":{"description":"OAuth 시작 URL 및 state 정보가 정상적으로 반환됩니다.","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponseDto"},{"properties":{"data":{"$ref":"#/components/schemas/StartOAuthResponseDto"}}}],"example":{"success":true,"operation":"operation_name","message":"요청이 성공적으로 처리되었습니다.","data":{"redirectUrl":"http://local-auth:3001/oauth/authorize?client_id=xxx&state=yyy&code_challenge=zzz"}}}}}}},"summary":"OAuth 시작 (Authorization Code + PKCE)","tags":["Auth"]}},"/me":{"get":{"description":"\n현재 세션을 기반으로 사용자 정보를 조회합니다.\n\n※ 주의  \n- 세션 검증(로그인 여부) → UserSessionGuard에서 처리  \n- 세션 갱신 또는 부가 처리 → MeSessionInterceptor에서 처리  \n- 컨트롤러는 실제 사용자 정보를 JSON 형태로 반환합니다.\n    ","operationId":"MeController_getMe","parameters":[],"responses":{"200":{"description":"정상적으로 사용자 정보를 반환합니다.","content":{"application/json":{"schema":{"example":{"id":1,"email":"user@example.com","name":"홍길동","roles":["partner","admin"],"sessionId":"abc123..."}}}}},"401":{"description":"세션이 없거나 만료된 경우 (Unauthorized)"}},"summary":"사용자 정보 조회","tags":["User"]}},"/logout":{"post":{"description":"\n세션을 제거하고, 인터셉터를 통해 브라우저의 세션 쿠키(session_id)를 삭제합니다.\n\n응답 자체는 JSON을 반환하지만, 실제 쿠키 삭제는 LogoutCookieClearInterceptor에서 처리됩니다.\n    ","operationId":"LogoutController_logout","parameters":[],"responses":{"200":{"description":"정상적으로 로그아웃되었습니다.","content":{"application/json":{"schema":{"example":{"success":true}}}}}},"summary":"로그아웃","tags":["Auth"]}}},"info":{"title":"파트너 어드민","description":"파트너 어드민 설명","version":"1.0.0","contact":{}},"tags":[],"servers":[{"url":"http://localhost:3002"}],"components":{"schemas":{"ApiResponseDto":{"type":"object","properties":{"success":{"type":"boolean","example":true,"description":"요청 성공 여부"},"operation":{"type":"string","example":"get_users","description":"수행된 작업(operation) 이름"},"message":{"type":"string","example":"조회 성공","description":"사용자에게 보여질 메시지"},"data":{"type":"object","description":"API 실제 데이터","nullable":true}},"required":["success","operation","message","data"]},"StartOAuthResponseDto":{"type":"object","properties":{"authorizeUrl":{"type":"string","description":"클라이언트가 이동해야 할 OAuth 인가 엔드포인트 URL (PKCE 포함)","example":"http://localhost:3001/oauth/authorize?client_id=partner-center&redirect_uri=http://localhost:3002/oauth/callback&state=8c4f0e20&code_challenge=vsh1d9k2&code_challenge_method=S256"}},"required":["authorizeUrl"]},"StartOAuthRequestDto":{"type":"object","properties":{"deviceId":{"type":"string","description":"디바이스 고유 식별자(브라우저 또는 앱 단위). 클라이언트가 생성해 전달합니다.","example":"c6e54331-47c6-4bf5-8e1a-1b2cafb0df91"}},"required":["deviceId"]}}}}