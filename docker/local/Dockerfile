# --------------------------------------------------
# ğŸ³ Next.js Local Development Image
# --------------------------------------------------
FROM node:22-alpine

# ì‘ì—… ë””ë ‰í† ë¦¬
WORKDIR /usr/src/app

# íŒ¨í‚¤ì§€ íŒŒì¼ë§Œ ë³µì‚¬ í›„ ì˜ì¡´ì„± ì„¤ì¹˜ (ìºì‹± ìµœì í™”)
COPY package*.json ./
RUN npm ci

# ì „ì²´ ì†ŒìŠ¤ ë³µì‚¬
COPY . .

# Prismaë¥¼ ì‚¬ìš©í•œë‹¤ë©´ Clientë¥¼ ë¯¸ë¦¬ ìƒì„± (optional)
# ì—†ìœ¼ë©´ ì•„ë˜ ë‘ ì¤„ì€ ì‚­ì œí•´ë„ ë¨
# RUN npx prisma generate
# ë˜ëŠ” í™˜ê²½ë³„ ì‚¬ìš© ì‹œ:
# RUN npm run prisma:gen:local

# Next.js ê¸°ë³¸ í¬íŠ¸
EXPOSE 3000

# ê°œë°œ ì„œë²„ ì‹¤í–‰ (Hot Reload)
CMD ["npm", "run", "dev"]
